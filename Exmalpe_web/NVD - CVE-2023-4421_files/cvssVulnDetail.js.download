

$(document).ready(function () {
    //V3 button states
    const  ACTIVE_BTN = "btn btn-active btn-lg cvssBtn";
    const INACTIVE_BTN = "btn btn-default btn-lg cvssBtn"
    //tooltip metric data 
    var nistv3Metric = $('#nistV3MetricHidden').val();
    var cnaV3MetricValue = $('#cnaV3MetricHidden').val();
    var nistv2MetricFromHidden = $('#nistV2MetricHidden').val();
    var cnaV2MetricValue = $('#cnaV2MetricHidden').val();
    
    console.log('cnaV2MetricValue', cnaV2MetricValue);
    //Intialize the tooltips
    $('[data-toggle="tooltip"]').tooltip();

    //V3 NIST metrics
    $('.tooltipCvss3NistMetrics').tooltip({
        delay: 200,
        placement: "bottom",
        title: nistv3Metric,        
        html: true
    });

    //V3 CNA metrics
    $('.tooltipCvss3CnaMetrics').tooltip({
        delay: 200,
        placement: "bottom",
        title: cnaV3MetricValue,
        html: true
    });

   //V2 NIST metrics
    $('.tooltipCvss2NistMetrics').tooltip({
        delay: 200,
        placement: "bottom",
        title: nistv2MetricFromHidden,
        html: true
    });
    //V2 CNA metrics
    $('.tooltipCvss2CnaMetrics').tooltip({
        delay: 200,
        placement: "bottom",
        title: cnaV2MetricValue,
        html: true
    });

   
    $('.cvssBtn').click(function (event) {
        //Process button click event
      
        var cvssButtonId = $(event.target).attr("id");
   
        console.log("CVSS btn selected :" + cvssButtonId + ", matched v2?" + (cvssButtonId == "btn-cvss2"));
        var cvss3Panel = $("[data-testid=vuln-cvss3-panel]");
        var cvss2Panel = $("[data-testid=vuln-cvss2-panel]");
        if (cvssButtonId == "btn-cvss3") {
           
            $('#btn-cvss3').attr('class', ACTIVE_BTN);
            $('#btn-cvss2').attr('class', INACTIVE_BTN);
            cvss3Panel.show();
            cvss2Panel.hide();
        } else if (cvssButtonId == "btn-cvss2") {
            $('#btn-cvss3').attr('class', INACTIVE_BTN);
            $('#btn-cvss2').attr('class', ACTIVE_BTN);
            cvss2Panel.show();
            cvss3Panel.hide();
        }
    
    });


   


});
